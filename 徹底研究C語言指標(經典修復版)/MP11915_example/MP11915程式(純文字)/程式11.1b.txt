/* 
** 不易發生錯誤的記憶體分配器的實作。
*/
#include <stdio.h>
#include "alloc.h"
#undef  malloc

void *
alloc( size_t size ) 
{
    void    *new_mem;
    /*
    ** 請求所需的記憶體，並檢查確實分配成功。
    */
    new_mem = malloc( size );
    if( new_mem == NULL ){
            printf( "Out of memory!\n" );
            exit( 1 );
    }
    return new_mem;
}

