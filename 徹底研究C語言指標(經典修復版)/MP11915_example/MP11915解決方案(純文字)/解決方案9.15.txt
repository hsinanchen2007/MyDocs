/*
** р计rr'src'锣传艾じ
** Mだ寒姒　A美xs'dst'C
*/

#include <stdio.h>

void
dollars( register char *dst, register char const *src )
{
        int  len;

        if( dst == NULL || src == NULL )
            return;

        *dst++ = '$';
        len = strlen( src );

        /*
        ** pG计歃r戗镑A
        ** 狡sNX{bp计Iオ娩杭痞rA
        ** 忙bA讽害旄mK[r腹C
        ** pGr甑u3蛹痞臁A
        ** bp计Ie宝AK[@'0'C
        */
        if( len >= 3 ){
            int i;

            for( i = len - 2; i > 0; ){
                *dst++ = *src++;
                if( --i > 0 && i % 3 == 0 )
                    *dst++ = ',';
            }
        } else
            *dst++ = '0';

        /*
        ** xsp计臁A
        ** M崂xs'src'い逞l杭痞臁C
        ** pG'src'い杭痞rぶ2蛹痞rA
        ** ノ'0'恶RCM幡b'dst'いK[NUL挡籀rじC
        */
        *dst++ = '.';
        *dst++ = len < 2 ? '0' : *src++;
        *dst++ = len < 1 ? '0' : *src;
        *dst = 0;
}

