/* 
** 從標準輸入複製到標準輸出，並對輸出列標號。 
*/

#include <stdio.h>
#include <stdlib.h>

int
main()
        {
        int ch;
        int line;
        int at_beginning;

        line = 0;
        at_beginning = 1;
        /*
        **  讀取字元並逐個處理它們。
        */
        while( (ch = getchar()) != EOF ){
            /*
            **  如果位於一列的起始位置，列印列號。
            */
            if( at_beginning == 1 ){
                at_beginning = 0;
                line += 1;
                printf( "%d ", line );
            }

            /*
            **  列印字元，並對列尾進行檢查。
            */
            putchar( ch );
            if( ch == '\n' )
                at_beginning = 1;
        }

        return EXIT_SUCCESS;
}

