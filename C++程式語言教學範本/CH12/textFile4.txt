//textFile4.cpp
#include <iostream>
#include <fstream>
using namespace std;

int main()
{
    ofstream outFile;
    ifstream inFile;
    string id, name;
    double score;
    
    //write data into file
    outFile.open("score.dat");
    cout << "請輸入ID: ";
    cin >> id;
    cout << "請輸入姓名: ";
    cin >> name;
    cout << "請輸入分數: ";
    cin >> score;
    
    cout << "\nwriting ... " << endl << endl;
    outFile << id << " " << name << " " << score << endl;

    cout << "請輸入ID: ";
    cin >> id;
    cout << "請輸入姓名: ";
    cin >> name;
    cout << "請輸入分數: ";
    cin >> score;
    
    cout << "\nwriting ... " << endl << endl;
    outFile << id << " " << name << " " << score << endl;
    outFile.close();
    cout << "\nclose file" << endl << endl;
    
    //read data from file
    inFile.open("score.dat");
    if (inFile.fail()) {
        cout << "File does not exist" << endl;
        return 0;
    }
    cout << "reading ... " << endl;
    inFile >> id >> name >> score;
    while (!inFile.eof()) {
        cout << id << " " << name << " " << score << endl;
        inFile >> id >> name >> score;
    }

    inFile.close();
    cout << "close file" << endl;
    
    return 0;
}
