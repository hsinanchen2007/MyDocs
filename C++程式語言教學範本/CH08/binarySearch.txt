//binarySearch.cpp
#include <iostream>
#include <iomanip>
using namespace std;
#define SIZE 10

int main()
{
    int ary[SIZE];
    int i, j, temp, key;
    int left, right, mid;

    srand(unsigned(time(NULL)));
    for (i=0; i<SIZE; i++)
        ary[i] = rand() % 100 + 1;
         
    cout << "Source Array ..." << endl;
    for (i=0; i<SIZE; i++) {
         cout << setw(4) << ary[i];
    }
     
    //Insertion Sorting
    for (i=1; i<SIZE; i++) {
        temp = ary[i];
        for (j=i; ary[j-1]>=temp; j--)
            ary[j] = ary[j-1];
        ary[j] = temp;
    }

    cout << "\nSorted Array ...\n";
    for (i=0; i<SIZE; i++) {
        cout << setw(4) << ary[i];
    }

    //binary search
    cout << "\n\n請輸入欲搜尋的數值: ";
    cin >> key;
    while (true) {
        left = 0;
        right = SIZE-1;
        while (left <= right) {
            mid = (left + right) / 2;
            if (key == ary[mid])
                break;
            if (key < ary[mid])
                right = mid -1;
            else
                left = mid + 1;
        }

        if (ary[mid] == key) {
            cout << " Finding " << key << " in index " << mid << endl;
        }
        else if (key == -999) {
            cout << "結束執行" << endl;
            break;
        }
        else {
            cout << " Sorry, not found !\n";
        }
        cout << "\n請輸入欲搜尋的數值: ";
        cin >> key;
    }

    return 0;
}
